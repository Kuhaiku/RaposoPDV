<section class="p-4 bg-white dark:bg-zinc-900 border-b dark:border-zinc-700 shadow-sm">
    <details> 
        <summary class="cursor-pointer text-sm font-medium text-primary flex items-center justify-between">
            <span>Filtrar Vendas</span>
            <span class="material-symbols-outlined">filter_list</span>
        </summary>
        <form id="filtros-vendas-form" class="mt-4 space-y-3 sm:space-y-0 sm:grid sm:grid-cols-2 lg:grid-cols-4 sm:gap-4">
            <div class="input-group">
                <label for="data-inicio" class="block text-xs font-medium text-zinc-600 dark:text-zinc-400 mb-1">Data Início</label>
                <input type="date" id="data-inicio" class="form-input block w-full rounded-md border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 dark:text-white shadow-sm focus:border-primary focus:ring-primary sm:text-sm text-xs p-2">
            </div>
            <div class="input-group">
                <label for="data-fim" class="block text-xs font-medium text-zinc-600 dark:text-zinc-400 mb-1">Data Fim</label>
                <input type="date" id="data-fim" class="form-input block w-full rounded-md border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 dark:text-white shadow-sm focus:border-primary focus:ring-primary sm:text-sm text-xs p-2">
            </div>
            <div class="form-actions col-span-full flex justify-end gap-2 mt-3 flex-wrap">
                <button type="button" id="limpar-filtros-btn" class="py-1.5 px-3 border border-zinc-300 dark:border-zinc-600 rounded-md text-xs font-semibold text-secondary dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors">Limpar</button>
                
                <button type="button" id="btn-relatorio-itens" class="py-1.5 px-4 bg-secondary/10 text-secondary dark:text-zinc-200 border border-secondary/20 rounded-md text-xs font-bold hover:bg-secondary/20 transition-colors inline-flex items-center gap-1">
                    <span class="material-symbols-outlined text-sm">assignment</span> Relatório de Itens
                </button>

                <button type="submit" class="py-1.5 px-4 bg-primary rounded-md text-xs font-bold text-white hover:bg-primary/90 transition-colors inline-flex items-center">Aplicar Filtros</button>
            </div>
        </form>
     </details>
</section>

<div id="relatorio-template" style="position: absolute; left: -9999px; top: 0; width: 800px; padding: 40px; background-color: white; font-family: sans-serif; color: #000;">
    <div style="text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px;">
        <h1 style="font-size: 24px; font-weight: bold; margin: 0; color: #2c3e50;">Relatório de Itens Vendidos</h1>
        <p style="margin: 5px 0; font-size: 14px; color: #666;" id="rel-empresa-nome">Empresa</p>
        <p style="margin: 5px 0; font-size: 14px;">Período: <span id="rel-periodo"></span></p>
    </div>

    <table style="width: 100%; border-collapse: collapse; font-size: 12px;">
        <thead>
            <tr style="background-color: #f4f4f4; border-bottom: 2px solid #ddd;">
                <th style="padding: 10px; text-align: left;">Produto</th>
                <th style="padding: 10px; text-align: left;">Cód.</th>
                <th style="padding: 10px; text-align: right;">Preço Méd.</th>
                <th style="padding: 10px; text-align: center;">Qtd.</th>
                <th style="padding: 10px; text-align: right;">Total (R$)</th>
            </tr>
        </thead>
        <tbody id="rel-itens-body">
            </tbody>
        <tfoot>
            <tr style="background-color: #eee; font-weight: bold;">
                <td colspan="3" style="padding: 10px; text-align: right;">TOTAIS GERAIS:</td>
                <td style="padding: 10px; text-align: center;" id="rel-total-qtd">0</td>
                <td style="padding: 10px; text-align: right;" id="rel-total-valor">R$ 0,00</td>
            </tr>
        </tfoot>
    </table>

    <div style="margin-top: 30px; font-size: 10px; color: #999; text-align: center; border-top: 1px solid #eee; padding-top: 10px;">
        Gerado em: <span id="rel-data-geracao"></span> | RaposoPDV
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
